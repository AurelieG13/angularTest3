<div class="container-fluid overflow-hidden">
    <div class="row vh-100 overflow-auto">
        <div class="col-12 col-sm-3 col-xl-2 sidebar-custom">
          <app-sidebar></app-sidebar>
        </div>
        <div class="col d-flex flex-column h-sm-100">
          <main class="row overflow-auto">
              <div class="col pt-4">
                <a routerLink="/userdashboard" type="button" class="btn btn-custom my-3">Retour</a>
                <h3 class="text-center">Modification de vos informations personnelles</h3>
                <div class="container mt-2">
                  <div class="row justify-content-md-center">
                    <div class="col-md-9">
                      <form [formGroup]="myFormProfil">
                        <div class="alert alert-danger" *ngIf="err">
                          <strong>erreur</strong>
                        </div>

                        <!--id-->
                        <div *ngIf="currentUser">
                          <input type="hidden" id="id" name="id" [value]="currentUser.userDTO.id">
                        </div>


                        <!--nom-->
                        <div class="form-group mt-2" *ngIf="currentUser">
                          <label for="lastname">Nom : </label>
                          <span *ngIf="!editing" class="form-control"> {{ currentUser.userDTO.lastname}} </span>
                          <input
                            *ngIf="editing"
                            type="text"
                            id="lastname"
                            name="lastname"
                            class="form-control"
                            formControlName="lastname"
                            [(ngModel)]="currentUser.userDTO.lastname">
                        </div>

                        <!--prenom-->
                        <div class="form-group mt-2" *ngIf="currentUser">
                          <label for="firstname">Prénom :</label>
                          <span *ngIf="!editing" class="form-control"> {{ currentUser.userDTO.firstname}} </span>
                          <input
                            *ngIf="editing"
                            type="text"
                            id="firstname"
                            name="firstname"
                            class="form-control"
                            formControlName="firstname"
                            [(ngModel)]="currentUser.userDTO.firstname">
                        </div>

                        <!--téléphone-->
                        <div class="form-group mt-2" *ngIf="currentUser">
                          <label for="phone">Téléphone :</label>
                          <span *ngIf="!editing" class="form-control"> {{ currentUser.userDTO.phone}} </span>
                          <input
                            *ngIf="editing"
                            type="text"
                            id="phone"
                            name="phone"
                            class="form-control"
                            formControlName="phone"
                            [(ngModel)]="currentUser.userDTO.phone">
                        </div>

                        <!--email-->
                        <div class="form-group mt-2" *ngIf="currentUser">
                          <label for="email">Email :</label>
                          <span class="form-control"> {{ currentUser.userDTO.email }}</span>
                        </div>

                        <!--button-->
                        <!--bouton Modifier-->
                        <div class="mt-4">
                          <button type="button" class="btn btn-custom" (click)="toggleEditing()" *ngIf="!editing">Modifier</button>
                        </div>


                        <!--bouton Valider-->
                        <div class="mt-4">
                          <button type="button" class="btn btn-custom-valid" (click)="saveChanges()" *ngIf="editing">Valider</button>
                        </div>


                      </form>
                    </div>
                  </div>
                </div>
                </div>
            </main>
        </div>
    </div>
</div>
